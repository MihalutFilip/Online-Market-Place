<mat-card *ngIf="product" class="product-item">
    <mat-card-header>
        <!-- <span>
            Add new product
        </span> -->
    </mat-card-header>
    <mat-card-content>
        
        <div class="add-content">
            <!-- Product Type Select -->
            <form class="product-type-form">
                    <mat-form-field appearance="fill">
                        <mat-label>Product Type</mat-label>
                        <mat-select [(ngModel)]="product.productType" [ngModelOptions]="{standalone: true}" (selectionChange)="resetAttributeValues()">
                            <mat-option *ngFor="let productType of productTypes" [value]="productType">
                                {{productType.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <br>
                    <!-- Price  -->
                    <mat-form-field appearance="outline" class="example-full-width">
                        <mat-label>Price</mat-label>
                        <input type="text" matInput [(ngModel)]="product.price" [ngModelOptions]="{standalone: true}">
                    </mat-form-field>

                <div *ngIf="product && product.productType && product.attributeValues">
                    <div *ngFor="let attributeType of product.productType.attributeTypes; let i = index" >
                        <mat-form-field appearance="outline" class="example-full-width">
                            <mat-label>{{attributeType.name}}</mat-label>
                            <input type="text" matInput [(ngModel)]="product.attributeValues[i].value" [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                        <br>
                    </div>
                </div>
            </form>
            <!-- <input class="input-image" type='file' (change)="onSelectFile($event)" #fileInput>
            <button mat-button (click)="fileInput.click()">Add image</button> -->
        </div>
    </mat-card-content>
    <mat-card-actions>
        <button mat-button (click)="saveProduct()">
            Save
          </button>
          <button mat-button>
            Cancel
          </button>
    </mat-card-actions>
</mat-card>

<mat-card class="add-card" *ngIf="!product">
    <button mat-button (click)="addNewProduct()">Add</button>
</mat-card>